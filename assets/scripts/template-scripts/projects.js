jQuery(document).ready((function(a){let o=a("#load-more-button"),e=o.data("post-type"),t=o.data("page"),n=o.data("posts-per-page"),p=a("#loading-spinner"),s=!1,c=!0;function r(){p.hide(),s||(o.show(),c=!0)}function d(){c&&(p.show(),o.hide(),c=!1,a.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"load_more_projects",page:t,postsPerPage:n,postType:e},success:function(p){a("#projects-container").append(p),t++,o.data("page",t),a.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"get_total_pages",postType:e,postsPerPage:n},success:function(a){t>a&&(s=!0,o.prop("disabled",!0)),r()},error:function(){console.log("Помилка при отриманні total_pages."),o.prop("disabled",!1),r()}})},error:function(){console.log("Помилка завантаження проєктів."),o.prop("disabled",!1),r()}}))}o.on("click",(function(){d()}))}));